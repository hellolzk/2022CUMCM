function [Y,Xf,Af] = myNeuralNetworkFunction(X,~,~)
x1_step1.xoffset = [3.72;0;0;0;0;0.45;0;0;0;0;0;0;0;0];
x1_step1.gain = [0.0214938205265986;0.252525252525253;0.137741046831956;0.229885057471264;0.732600732600733;0.143988480921526;0.33112582781457;0.189214758751183;0.0284859706594502;0.0564174894217207;0.141542816702052;1.78571428571429;0.847457627118644;0.125391849529781];
x1_step1.ymin = -1;
b1 = [1.7192623310735060116;-1.1076791597144568513;-1.0936860804440866612;0.62355613991150282693;-0.41061629460519866175;0.016460322170464607161;-0.77700919722396588618;0.85685345335637075337;-2.0382465000140288502;1.7205815895044600516];
IW1_1 = [-0.36527398520395132353 -0.70193811160132324467 0.30463879417518741066 0.19158807005626002362 0.23755554951163920796 0.27689014582806115161 -0.11681677938540324657 0.21665879719297026496 -0.12465631256847362063 -0.70046973168883697181 -0.76684114006454140444 -0.028978417937771040747 -0.18500253494964413736 0.65992119725047926337;0.33276721899657307757 -0.039949390920284669204 0.16960719335298152233 -0.67341625567038987388 0.38831321711003563557 0.86170485988896206031 0.66984473169605562859 -0.014162227851783011634 -0.41098491533685010957 -0.11738318673890926758 -0.15139550337413487657 0.64099268686874788514 1.3538026198404433664 -0.53396139309165113751;1.221271368384658329 -0.63415575540903312834 -0.93982177938894584379 -0.35289887258375540746 -0.085094887503033261877 0.44126019591543153009 0.1847543540833366249 -0.26130311030394443028 -0.66689346591053111357 -0.33158184823265585139 -0.1024738817102965327 0.3168230043995990397 2.0672855472329887405 -0.13371856703821302648;-0.56460974203656599801 -0.2451486374250272382 -0.7169327832428088465 -1.0459436914429280918 -0.34802014007490633674 0.27215354174032196921 -0.28194725248313912136 -0.034287250180595502114 0.56734188498238979914 1.1289580381813204557 -0.7780337392601529567 0.037476806801233726596 0.63308944638748620992 -0.2121081198335367235;0.3276592341581897605 0.41906778800275540364 0.0079729105836107393157 0.16710494972310852013 0.095381643869153390214 -0.39420917652846276802 -0.28199126661628798329 1.3981485489845082437 0.38907088789185606537 0.53746348168816193702 0.79292603246109849557 -0.62332767018102352985 0.09800522026841537726 0.98144402991653723056;1.6926764350803238379 0.19574134698339129557 0.045287585947400413322 1.4239228944752624351 -0.55972326957086881993 0.073641067372840610106 0.22694045041278379515 -0.68284045119089420428 0.2017143762882381286 -0.96897561265372145201 -0.17108066067793586962 -0.035741465778489661664 -0.091234513976522102485 0.98929923712025014115;-0.35940774425199134567 0.65797147392642485464 0.48944644698076816836 0.087850684867193010175 -0.29617869984896227908 0.60658259290767913008 0.28630602396642501617 -0.39354703733261525711 0.37403640755688682962 0.27513808477870382863 -0.023092674974298274537 -0.21640419083730444427 0.51602776070396971786 -0.28126311231494210974;0.85568194847754119881 -0.76730457334342316855 0.01383188203892312014 0.3776186225872297797 0.49787873329910009579 0.052549058966099571055 0.082564451355562382129 0.14606134658919134317 -1.0057701879008711376 0.036599355046599953145 0.6134395241944055055 0.43218944939441822362 -0.22226573441594502101 0.86902863759161497192;1.7834883977967923574 -0.11293806385234643475 0.86555637615653502337 0.41088109423526075759 -1.4157099612528214472 0.2444612202819222424 -0.0073734790351982354428 0.037608434476645663525 -2.3822819490246609497 -0.55365797056113608132 0.68759778825004358449 -0.15499642453346532123 -0.32462980096543642139 0.95903705443343023607;-0.35018039243922455261 -0.593298570526080149 -0.75049445675496639918 0.88504449786653760501 0.3083425022312707986 0.35374595517985030213 0.014845288969805491008 -0.6252966022293877657 1.562570012460073654 -0.30183929250845820125 0.80261588086138235809 0.037360106173961966924 0.79453538293659342617 -0.19421625646485324301];

b2 = -1.014671607637486872;
LW2_1 = [0.53830322352989889989 1.2725202170560248049 -1.4517074186611347297 0.89480687247837598086 -0.63523606568733603783 1.3261898052506162493 0.24468828575105186496 0.37745665816052892394 -1.4018854275662009368 -0.53513351161420752433];

y1_step1.ymin = -1;
y1_step1.gain = 0.666666666666667;
y1_step1.xoffset = 1;
isCellX = iscell(X);
if ~isCellX
    X = {X};
end
TS = size(X,2);
if ~isempty(X)
    Q = size(X{1},1); 
else
    Q = 0;
end
Y = cell(1,TS);
for ts=1:TS
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end
Xf = cell(1,0);
Af = cell(2,0);
if ~isCellX
    Y = cell2mat(Y);
end
end
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end